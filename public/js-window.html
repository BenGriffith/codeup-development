<!DOCTYPE html>
<html>
	<head>
		<title>Delayed Autosave</title>
	</head>
	<body>
		
		<h2>Autosaving Text Input</h2>
		<textarea rows="10" cols="60" id="important"></textarea>

		<script src="/js/jquery.js"></script>

		<script>

			var delay = 5000; // delay in milliseconds
			var timeoutId = null;

			function save() {
				alert('Saved!');
			}

			function autosave() {
				
			// todo:
            // Use setTimeout and clearTimeout within this function
            // so that the save() function is called 5 seconds after
            // the last key up event. If a new key up event occurs,
            // you need to cancel the existing timer and set a new one.

            console.log("Autosave");
            clearTimeout(timeoutId);
           	timeoutId = setTimeout(save, delay);
			}

			// autosave on a keyup event
	     	 $('document').ready(function() {
	        	$('#important').keyup(function() {
	        		autosave();
	        	});
	        });
		</script>
	</body>
</html>